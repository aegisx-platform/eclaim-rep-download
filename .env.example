# ================================
# E-Claim REP Download - Environment Configuration
# ================================
#
# IMPORTANT SECURITY NOTICE:
# 1. Copy this file to .env: cp .env.example .env
# 2. Fill in ALL required values marked with (REQUIRED)
# 3. Generate strong passwords - DO NOT use defaults!
# 4. Keep .env file secure - NEVER commit to git
# 5. Rotate credentials regularly
#
# ================================

# Docker Image Version (optional - defaults to 'latest')
# Use specific version for production: v2.0.0, v2.1.0, etc.
VERSION=latest

# ================================
# E-Claim NHSO Credentials (REQUIRED)
# ================================
# Your NHSO E-Claim system credentials
# Get these from: https://eclaim.nhso.go.th
ECLAIM_USERNAME=
ECLAIM_PASSWORD=

# ================================
# Database Configuration (REQUIRED)
# ================================
# Database type: 'postgresql' (recommended) or 'mysql'
DB_TYPE=postgresql
DB_HOST=db
DB_PORT=5432
DB_NAME=eclaim_db
DB_USER=eclaim

# Database Password (REQUIRED - MUST be strong)
# Generate secure password with:
#   openssl rand -base64 32
# Or:
#   python -c "import secrets; print(secrets.token_urlsafe(32))"
DB_PASSWORD=

# For MySQL deployment, change:
# DB_TYPE=mysql
# DB_PORT=3306
# DB_PASSWORD=<same strong password>

# ================================
# Flask Application (REQUIRED)
# ================================
FLASK_ENV=production
TZ=Asia/Bangkok

# Server URL (REQUIRED for External API)
# Public URL where the application is accessible
# Used for API documentation and base URL
# Examples:
#   Development: http://localhost:5001
#   Production: https://eclaim.yourhospital.com
SERVER_URL=http://localhost:5001

# Flask Secret Key (REQUIRED - MUST be strong and unique)
# Used for session encryption and CSRF protection
# Generate with:
#   python -c "import secrets; print(secrets.token_hex(32))"
# Must be at least 32 characters
SECRET_KEY=

# ================================
# pgAdmin (Optional - for database management)
# ================================
# Only used if starting with --profile tools
# Start with: docker-compose --profile tools up
PGADMIN_EMAIL=admin@eclaim.local

# pgAdmin Password (REQUIRED if using pgAdmin)
# Generate secure password (same methods as DB_PASSWORD above)
PGADMIN_PASSWORD=

# ================================
# Database Connection Pool (Optional)
# ================================
# Adjust based on your hospital size:
# - Small hospital (< 50 beds): DB_POOL_MIN=2, DB_POOL_MAX=10
# - Medium hospital (50-200 beds): DB_POOL_MIN=5, DB_POOL_MAX=20
# - Large hospital (200+ beds): DB_POOL_MIN=10, DB_POOL_MAX=50
DB_POOL_MIN=5
DB_POOL_MAX=20
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# ================================
# Security Settings (Optional)
# ================================
# Uncomment and set for enhanced security

# Allowed origins for CORS (comma-separated)
# CORS_ORIGINS=https://yourhospital.local,https://eclaim.yourhospital.local

# Session lifetime (hours) - default 8 hours
# Controls how long a user stays logged in before requiring re-authentication
SESSION_LIFETIME_HOURS=8

# Maximum file upload size (MB) - default 100
# MAX_UPLOAD_SIZE=100

# Rate limiting (requests per hour) - default 1000
# RATE_LIMIT=1000

# ================================
# Logging Configuration (Optional)
# ================================
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
# Production should use INFO or WARNING
LOG_LEVEL=INFO

# Log retention (days) - default 30
# LOG_RETENTION_DAYS=30

# Maximum log file size (MB) - default 10
# LOG_MAX_SIZE_MB=10

# Number of log backup files to keep - default 5
# LOG_BACKUP_COUNT=5

# ================================
# Example Complete Configuration
# ================================
# Uncomment and customize below for quick setup:

# ECLAIM_USERNAME=10670
# ECLAIM_PASSWORD=<your-nhso-password>
# DB_PASSWORD=<generated-password-here>
# SECRET_KEY=<generated-secret-key-here>
# PGADMIN_PASSWORD=<generated-password-here>

# ================================
# Quick Start Checklist
# ================================
# [ ] 1. Generate DB_PASSWORD with: openssl rand -base64 32
# [ ] 2. Generate SECRET_KEY with: python -c "import secrets; print(secrets.token_hex(32))"
# [ ] 3. Set ECLAIM_USERNAME and ECLAIM_PASSWORD from NHSO
# [ ] 4. (Optional) Generate PGADMIN_PASSWORD if using pgAdmin
# [ ] 5. Review and adjust DB_POOL settings for your hospital size
# [ ] 6. Test with: docker-compose config (should not show errors)
# [ ] 7. Start with: docker-compose up -d
# [ ] 8. Check logs: docker-compose logs -f web
# [ ] 9. Access at: http://localhost:5001
# [ ] 10. IMPORTANT: Configure nginx reverse proxy with HTTPS for production!

# ================================
# Support & Documentation
# ================================
# Documentation: docs/technical/INSTALLATION.md
# Security Guide: docs/technical/CODE_REVIEW.md
# Issues: https://github.com/aegisx-platform/eclaim-rep-download/issues
